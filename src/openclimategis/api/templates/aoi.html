{% extends "base_api.html" %}

{% block title %}
    {{ block.super }}
    {% if is_collection %}
    > Area-of-Interest (AOI)
    {% else %}
    > <a href="{% url aoi_list %}">Area-of-Interest (AOI)</a> 
    > {% for listitem in data %}{{ listitem.code }}{% endfor %}
    {% endif %}
{% endblock title %}

{% block content %}
    <table frame=void rules=all>
    <tbody>
    {% if is_collection %}
        {% comment %}Create table for a list of Area-of-Interest resources{% endcomment %}
        <tr>
            <th>Code</th>
            <th>Geometry (WKT)</th>
        </tr>
        {% for listitem in data|dictsort:"code" %}
        <tr>
            <td><a href="{% url aoi_single code=listitem.code emitter_format='html' %}">{{ listitem.code }}</a></td>
            <td>{{ listitem.geom.wkt }}</td>
        </td></tr>
        {% endfor %}
    {% else %}
        {% comment %}Create table for a single Area of Interest{% endcomment %}
        {% for listitem in data %}
            <tr>
                <th>Code</th>
                <td>{{ listitem.code}}</td>
            </tr>
            <tr>
                <th>Geometry (WKT)</th>
                <td>{{ listitem.geom }}</td>
            </tr>
        {% endfor %}
    {% endif %}
    </tbody>
    </table>
    
    {% if is_collection %}
        <div class="box"><br /><a href="{% url shpupload_form %}">Upload Custom AOI</a></div>
    {% endif %}
{% endblock content %}
